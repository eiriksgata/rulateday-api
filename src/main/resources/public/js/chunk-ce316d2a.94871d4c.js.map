{"version":3,"sources":["webpack:///./src/views/games/event/Monitor.vue?0109","webpack:///./src/views/games/event/monitor.ts","webpack:///src/views/games/event/Monitor.vue","webpack:///./src/views/games/event/Monitor.vue?aed3","webpack:///./src/views/games/event/Monitor.vue?2c59","webpack:///./src/views/games/event/Monitor.vue?7fcf"],"names":["render","_vm","this","_h","$createElement","_c","_self","isLogin","_e","_v","attrs","on","$event","type","indexOf","_k","keyCode","key","login","model","value","callback","$$v","userId","expression","staticClass","_s","currentEventId","textContent","_l","item","id","queryItemEvent","eventId","queryItemContent","title","jumpEvent","jumpEventId","eventForm","$set","submitEvent","deleteEventNode","nextEventId","addEventRel","deleteEventRel","staticRenderFns","itemButtonList","content","previousEventId","firstNode","mounted","loginCheck","loadEventId","queryAllFirstNode","_this","$axios","url","method","then","response","data","code","$toast","error","message","catch","err","localStorage","getItem","undefined","setItem","changeEventId","parseInt","Monitor","components","component","VBtn","VCard","VCardSubtitle","VCardText","VCardTitle","VContainer","VRow","VSubheader","VTextField","VTextarea"],"mappings":"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","file":"js/chunk-ce316d2a.94871d4c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[(!_vm.isLogin)?_c('div',[_c('v-card',[_c('v-card-subtitle',[_vm._v(\"检测到当前没有绑定数据，请先输入ID\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"ID编码\",\"placeholder\":\"回车跳转\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login()}},model:{value:(_vm.userId),callback:function ($$v) {_vm.userId=$$v},expression:\"userId\"}})],1)],1)],1):_vm._e(),(_vm.isLogin)?_c('div',[_c('v-card',[_c('v-card-title',{staticClass:\"indigo white--text text-h6\"},[_vm._v(\" 剧情框 \"),_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"end\"}},[_c('span',{staticClass:\"subheading mr-2\"},[_vm._v(\"玩家ID: \"+_vm._s(_vm.userId)+\" \")]),_c('span',{staticClass:\"subheading mr-2\"},[_vm._v(\"事件ID: \"+_vm._s(_vm.currentEventId))])])],1),_c('v-textarea',{attrs:{\"filled\":\"\",\"auto-grow\":\"\",\"readonly\":\"\",\"hide-details\":\"\",\"background-color\":\"white\"},model:{value:(_vm.textContent),callback:function ($$v) {_vm.textContent=$$v},expression:\"textContent\"}}),_c('div',_vm._l((_vm.itemButtonList),function(item){return _c('v-btn',{key:item.id,staticClass:\"itemButtonBox\",on:{\"click\":function($event){_vm.queryItemEvent(item.eventId);\n            _vm.queryItemContent(item.eventId);}}},[_vm._v(\" [\"+_vm._s(item.eventId)+\"] \"+_vm._s(item.title)+\" \")])}),1)],1),_c('v-text-field',{attrs:{\"label\":\"跳转到事件ID页\",\"placeholder\":\"回车跳转\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.jumpEvent()}},model:{value:(_vm.jumpEventId),callback:function ($$v) {_vm.jumpEventId=$$v},expression:\"jumpEventId\"}}),_c('v-card',[_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"标题\",\"required\":\"\"},model:{value:(_vm.eventForm.title),callback:function ($$v) {_vm.$set(_vm.eventForm, \"title\", $$v)},expression:\"eventForm.title\"}}),_c('v-textarea',{attrs:{\"label\":\"内容\",\"rows\":4,\"required\":\"\"},model:{value:(_vm.eventForm.content),callback:function ($$v) {_vm.$set(_vm.eventForm, \"content\", $$v)},expression:\"eventForm.content\"}}),_c('v-btn',{staticClass:\"itemButtonBox\",attrs:{\"color\":\"info\",\"min-width\":\"150\"},on:{\"click\":function($event){return _vm.submitEvent()}}},[_vm._v(\" 为该事件添加一个选项 \")]),_c('v-btn',{staticClass:\"itemButtonBox\",attrs:{\"color\":\"error\",\"min-width\":\"150\"},on:{\"click\":function($event){return _vm.deleteEventNode()}}},[_vm._v(\" 删除当前事件 \")]),_c('v-subheader',[_vm._v(\"注意：如果已经构建成一个环，请使用下方的删除事件\")])],1)],1),_c('v-card',[_c('v-card-title',[_vm._v(\"[增加/移除]连线\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"事件ID\",\"required\":\"\"},model:{value:(_vm.nextEventId),callback:function ($$v) {_vm.nextEventId=$$v},expression:\"nextEventId\"}}),_c('v-btn',{staticClass:\"itemButtonBox\",attrs:{\"color\":\"info\",\"min-width\":\"150\"},on:{\"click\":function($event){return _vm.addEventRel()}}},[_vm._v(\" 增加 \")]),_c('v-btn',{staticClass:\"itemButtonBox\",attrs:{\"color\":\"info\",\"min-width\":\"150\"},on:{\"click\":function($event){return _vm.deleteEventRel()}}},[_vm._v(\" 删除 \")])],1)],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Axios from 'axios';\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\nimport { Watch } from 'vue-property-decorator';\r\n\r\n@Component({\r\n  components: {\r\n\r\n  }\r\n})\r\nexport default class Monitor extends Vue {\r\n\r\n  textContent = '';\r\n  itemButtonList = [];\r\n  currentEventId = 1;\r\n  jumpEventId = 1;\r\n  nextEventId = '';\r\n\r\n  userId = '';\r\n\r\n  isLogin = false;\r\n\r\n  eventForm = {\r\n    content: '',\r\n    previousEventId: 0,\r\n    title: '',\r\n    firstNode: false\r\n  }\r\n\r\n\r\n  mounted() {\r\n    this.loginCheck();\r\n    this.loadEventId();\r\n  }\r\n\r\n  queryAllFirstNode() {\r\n    const _this = this;\r\n    _this.$axios({\r\n      url: '/api/v1/game/event/node/first',\r\n      method: 'get'\r\n    }).then(function (response) {\r\n      if (response.data.code === 0) {\r\n        _this.textContent = response.data.data[0].content;\r\n        _this.currentEventId = response.data.data[0].eventId;\r\n        _this.queryItemEvent(response.data.data[0].eventId);\r\n      } else {\r\n        _this.$toast.error(response.data.message);\r\n      }\r\n    }).catch(function (err) {\r\n      _this.$toast.error(err);\r\n    });\r\n  }\r\n\r\n  queryItemEvent(eventId: number) {\r\n    const _this = this;\r\n    _this.$axios({\r\n      url: '/api/v1/game/event/node/next',\r\n      method: 'post',\r\n      data: {\r\n        id: eventId\r\n      }\r\n    }).then(function (response) {\r\n      if (response.data.code === 0) {\r\n        _this.itemButtonList = response.data.data;\r\n      } else {\r\n        _this.$toast.error(response.data.message);\r\n      }\r\n    }).catch(function (err) {\r\n      _this.$toast.error(err);\r\n    });\r\n  }\r\n\r\n  queryItemContent(eventId: number) {\r\n    const _this = this;\r\n    _this.$axios({\r\n      url: '/api/v1/game/event/node/info',\r\n      method: 'post',\r\n      data: {\r\n        eventId: eventId\r\n      }\r\n    }).then(function (response) {\r\n      if (response.data.code === 0) {\r\n        _this.textContent = response.data.data.content;\r\n        _this.currentEventId = response.data.data.eventId;\r\n      } else {\r\n        _this.$toast.error(response.data.message);\r\n        _this.jumpEventId = 1;\r\n        _this.jumpEvent();\r\n      }\r\n    }).catch(function (err) {\r\n      _this.$toast.error(err);\r\n    });\r\n  }\r\n\r\n  jumpEvent() {\r\n    this.queryItemEvent(this.jumpEventId);\r\n    this.queryItemContent(this.jumpEventId);\r\n    this.currentEventId = this.jumpEventId;\r\n  }\r\n\r\n  submitEvent() {\r\n    const _this = this;\r\n    _this.eventForm.previousEventId = _this.currentEventId;\r\n    _this.$axios({\r\n      url: '/api/v1/game/event/node',\r\n      method: 'post',\r\n      data: _this.eventForm\r\n    }).then(function (response) {\r\n      if (response.data.code === 0) {\r\n        _this.jumpEventId = _this.currentEventId;\r\n        _this.jumpEvent();\r\n      } else {\r\n        _this.$toast.error(response.data.message);\r\n      }\r\n    }).catch(function (err) {\r\n      _this.$toast.error(err);\r\n    });\r\n  }\r\n\r\n  deleteEventNode() {\r\n    const _this = this;\r\n    _this.$axios({\r\n      url: '/api/v1/game/event/node',\r\n      method: 'delete',\r\n      data: {\r\n        id: this.currentEventId\r\n      }\r\n    }).then(function (response) {\r\n      if (response.data.code === 0) {\r\n        _this.jumpEventId = _this.currentEventId - 1;\r\n        _this.jumpEvent();\r\n      } else {\r\n        _this.$toast.error(response.data.message);\r\n      }\r\n    }).catch(function (err) {\r\n      _this.$toast.error(err);\r\n    });\r\n  }\r\n\r\n  addEventRel() {\r\n    const _this = this;\r\n    _this.$axios({\r\n      url: '/api/v1/game/event/node/rel',\r\n      method: 'post',\r\n      data: {\r\n        eventId: this.currentEventId,\r\n        nextEventId: this.nextEventId\r\n      }\r\n    }).then(function (response) {\r\n      if (response.data.code === 0) {\r\n        _this.jumpEventId = _this.currentEventId - 1;\r\n        _this.jumpEvent();\r\n      } else {\r\n        _this.$toast.error(response.data.message);\r\n      }\r\n    }).catch(function (err) {\r\n      _this.$toast.error(err);\r\n    });\r\n  }\r\n\r\n  deleteEventRel() {\r\n    const _this = this;\r\n    _this.$axios({\r\n      url: '/api/v1/game/event/node/rel',\r\n      method: 'delete',\r\n      data: {\r\n        eventId: this.currentEventId,\r\n        nextEventId: this.nextEventId\r\n      }\r\n    }).then(function (response) {\r\n      if (response.data.code === 0) {\r\n        _this.jumpEventId = _this.currentEventId - 1;\r\n        _this.jumpEvent();\r\n      } else {\r\n        _this.$toast.error(response.data.message);\r\n      }\r\n    }).catch(function (err) {\r\n      _this.$toast.error(err);\r\n    });\r\n  }\r\n\r\n  loginCheck() {\r\n    const id = localStorage.getItem('id');\r\n    if (id == null || id == undefined) {\r\n      this.userId = '';\r\n    } else {\r\n      this.userId = id;\r\n    }\r\n    this.isLogin = !(id == null || id == undefined);\r\n  }\r\n\r\n  login() {\r\n    localStorage.setItem('id', this.userId);\r\n    this.loginCheck();\r\n  }\r\n\r\n  @Watch('currentEventId')\r\n  changeEventId(currentEventId: number) {\r\n    localStorage.setItem('currentEventId', currentEventId + '');\r\n  }\r\n\r\n  loadEventId() {\r\n    const id = localStorage.getItem('currentEventId');\r\n    if (id == null || id == undefined) {\r\n      this.jumpEventId = 1;\r\n      this.currentEventId = 1;\r\n    } else {\r\n      this.jumpEventId = parseInt(id);\r\n      this.currentEventId = parseInt(id);\r\n    }\r\n    this.jumpEvent();\r\n  }\r\n}\r\n\r\n\r\n","\r\n<template>\r\n  <v-container>\r\n    <div v-if=\"!isLogin\">\r\n      <v-card>\r\n        <v-card-subtitle>检测到当前没有绑定数据，请先输入ID</v-card-subtitle>\r\n        <v-card-text>\r\n          <v-text-field\r\n            v-model=\"userId\"\r\n            @keydown.enter=\"login()\"\r\n            label=\"ID编码\"\r\n            placeholder=\"回车跳转\"\r\n          ></v-text-field>\r\n        </v-card-text>\r\n      </v-card>\r\n    </div>\r\n\r\n    <div v-if=\"isLogin\">\r\n      <v-card>\r\n        <v-card-title class=\"indigo white--text text-h6\">\r\n          剧情框\r\n          <v-row align=\"center\" justify=\"end\">\r\n            <span class=\"subheading mr-2\">玩家ID: {{ userId }} </span>\r\n            <span class=\"subheading mr-2\">事件ID: {{ currentEventId }}</span>\r\n          </v-row></v-card-title\r\n        >\r\n\r\n        <v-textarea\r\n          v-model=\"textContent\"\r\n          filled\r\n          auto-grow\r\n          readonly\r\n          hide-details\r\n          background-color=\"white\"\r\n        >\r\n        </v-textarea>\r\n\r\n        <div>\r\n          <v-btn\r\n            v-for=\"item in itemButtonList\"\r\n            :key=\"item.id\"\r\n            class=\"itemButtonBox\"\r\n            @click=\"\r\n              queryItemEvent(item.eventId);\r\n              queryItemContent(item.eventId);\r\n            \"\r\n          >\r\n            [{{ item.eventId }}] {{ item.title }}\r\n          </v-btn>\r\n        </div>\r\n      </v-card>\r\n      <v-text-field\r\n        v-model=\"jumpEventId\"\r\n        @keydown.enter=\"jumpEvent()\"\r\n        label=\"跳转到事件ID页\"\r\n        placeholder=\"回车跳转\"\r\n      ></v-text-field>\r\n\r\n      <v-card>\r\n        <v-card-text>\r\n          <v-text-field\r\n            v-model=\"eventForm.title\"\r\n            label=\"标题\"\r\n            required\r\n          ></v-text-field>\r\n\r\n          <v-textarea\r\n            v-model=\"eventForm.content\"\r\n            label=\"内容\"\r\n            :rows=\"4\"\r\n            required\r\n          ></v-textarea>\r\n          <v-btn\r\n            color=\"info\"\r\n            class=\"itemButtonBox\"\r\n            @click=\"submitEvent()\"\r\n            min-width=\"150\"\r\n          >\r\n            为该事件添加一个选项\r\n          </v-btn>\r\n\r\n          <v-btn\r\n            color=\"error\"\r\n            class=\"itemButtonBox\"\r\n            @click=\"deleteEventNode()\"\r\n            min-width=\"150\"\r\n          >\r\n            删除当前事件\r\n          </v-btn>\r\n          <v-subheader\r\n            >注意：如果已经构建成一个环，请使用下方的删除事件</v-subheader\r\n          >\r\n        </v-card-text>\r\n      </v-card>\r\n\r\n      <v-card>\r\n        <v-card-title>[增加/移除]连线</v-card-title>\r\n        <v-card-text>\r\n          <v-text-field\r\n            v-model=\"nextEventId\"\r\n            label=\"事件ID\"\r\n            required\r\n          ></v-text-field>\r\n          <v-btn\r\n            color=\"info\"\r\n            class=\"itemButtonBox\"\r\n            @click=\"addEventRel()\"\r\n            min-width=\"150\"\r\n          >\r\n            增加\r\n          </v-btn>\r\n\r\n          <v-btn\r\n            color=\"info\"\r\n            class=\"itemButtonBox\"\r\n            @click=\"deleteEventRel()\"\r\n            min-width=\"150\"\r\n          >\r\n            删除\r\n          </v-btn>\r\n        </v-card-text>\r\n      </v-card>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<style scoped>\r\n.itemButtonBox {\r\n  margin: 10px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport Monitor from \"./monitor\";\r\nexport default Monitor;\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Monitor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Monitor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Monitor.vue?vue&type=template&id=1ebbb782&scoped=true&\"\nimport script from \"./Monitor.vue?vue&type=script&lang=js&\"\nexport * from \"./Monitor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Monitor.vue?vue&type=style&index=0&id=1ebbb782&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ebbb782\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardSubtitle,VCardText,VCardTitle,VContainer,VRow,VSubheader,VTextField,VTextarea})\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Monitor.vue?vue&type=style&index=0&id=1ebbb782&scoped=true&lang=css&\""],"sourceRoot":""}